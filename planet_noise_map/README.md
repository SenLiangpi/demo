# 星球地图生成器（柏林噪声高度图）

这是一个纯前端小工具：使用 **3D 柏林噪声（Perlin Noise）** + **分形叠加（fBm）** 在球面上生成高度场，并以彩色地形/灰度高度的方式渲染到 Canvas（包含河流叠加）。

## 使用

- 直接用浏览器打开 `index.html` 即可。
- 如果遇到浏览器限制（少数环境会限制本地脚本），在仓库根目录运行静态服务器：
  - `python3 -m http.server 5173`
  - 然后打开 `http://localhost:5173/planet_noise_map/`

## 控件说明

- **Seed**：同一 Seed 会生成同一张星球高度图。
- **海平面**：调节海洋/陆地分界。
- **视图**：
  - `彩色地形`：按高度阈值着色（海洋/海滩/平原/山地/雪）。
  - `灰度高度`：直接显示高度（越亮越高）。

## 实现要点

- 经纬度映射到单位球面坐标（避免平铺噪声的边缘接缝问题）。
- 3D Perlin + fBm 形成大尺度大陆与小尺度细节。
- 额外叠加 ridged fBm 强化山脊/峡谷效果。
- 简单 hillshade（根据高度梯度做明暗）增强“高低起伏”观感。
- 基于“最陡下坡 + 汇流量累积（flow accumulation）”在陆地上绘制河流网络。
